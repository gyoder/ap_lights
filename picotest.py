import board
import neopixel
from time import sleep
from random import randint
import threading
from picoboard import PicoBoard
cords = [[669.3157894736842, 947.671052631579, 0, 313.7723082249972], [669.1851851851852, 947.7777777777778, 1, 313.7723082249972], [346.78835942348803, 401.44755534101097, 2, 956.8904551485615], [506.0922122674018, 416.2934527911785, 3, 730.1485104366823], [411.7479103195063, 445.44348097804857, 4, 165.3793868697303], [366.57116170461177, 221.93648569760654, 5, 370.56067833502954], [349.57995444191346, 183.97714502657556, 6, 273.5804907171952], [307.27923743500867, 439.96311958405545, 7, 329.85946862417165], [209.64334047109207, 464.27443254817985, 8, 392.3551620530871], [261.81597986788296, 550.5513264129181, 9, 152.38031826578595], [201.62611749680715, 555.8358876117496, 10, 147.06999523100077], [296.0164554879052, 708.527069277604, 11, 214.11716053157699], [285.4275932031448, 784.5287851889424, 12, 250.91182713900469], [388.44551993009344, 777.3069839349331, 13, 222.93441442587624], [386.69299662310965, 864.2301424166789, 14, 188.46341396785294], [362.52053058465697, 930.2572659682326, 15, 161.0196887646489], [448.1519600187412, 934.0702014680619, 16, 175.92040811177475], [254.78553200931987, 882.2662820370576, 17, 307.98791866255], [229.063301362948, 879.8338213023725, 18, 250.96692157797165], [295.27120584867436, 781.9442438122082, 19, 158.73590441685784], [222.05992992808407, 738.3734095519086, 20, 183.33548805675167], [160.87988405797103, 816.5710144927536, 21, 240.56467349305018], [193.7818270639961, 641.2232535417685, 22, 261.5614616494224], [157.58465227817746, 585.5976019184652, 23, 241.74474090039354], [125.12511394712853, 532.53338650866, 24, 150.567410310053], [191.3371183206107, 478.8222328244275, 25, 148.14705528289608], [193.1426891834117, 410.19613082513894, 26, 155.31748318990614], [143.83254875588432, 377.17753866846, 27, 142.8079797031908], [166.94844993467157, 275.82230668725504, 28, 146.10477048158614], [81.46366891322663, 403.806550126369, 29, 272.9152068856837], [122.97212501508386, 320.5259442500302, 30, 228.3804575713018], [95.46628407460545, 500.72365081116874, 31, 266.73448573928147], [124.21322030260758, 450.7015774224702, 32, 237.8959504259012], [66.2446724546172, 631.8529334385688, 33, 248.1322784706266], [72.01489561341778, 553.7928688716866, 34, 266.79486835174896], [129.4896624472574, 740.8118143459916, 35, 296.1167382686281], [150.22214878460747, 741.4813101270471, 36, 223.45604669625217], [168.75862068965517, 863.6987751298096, 37, 162.88983205980327], [137.35859901212393, 974.9915581499775, 38, 238.53011173633615], [216.2407835581246, 958.695504174695, 39, 201.5463862054366], [145.1626033495866, 1068.7153911384355, 40, 149.05107018491788], [264.4892054306699, 1028.2591253060316, 41, 246.13265259359778], [243.91049253104566, 1175.4037434759134, 42, 255.29054737516972], [329.94817841334697, 1004.8745658835546, 43, 352.0522758488257], [346.1052230685528, 1099.1309031556038, 44, 294.43744596297756], [447.55296848094633, 940.8189713258965, 45, 338.742865378921], [391.4546925566343, 808.5467868700879, 46, 308.3557470086521], [508.015398370753, 898.1445459964236, 47, 292.4535593584388], [559.2298495033015, 921.80798286836, 48, 246.61758607683015], [408.4833556249071, 773.3672908307326, 49, 246.61758607683015]]

pixel_pin = board.D18
pixels = neopixel.NeoPixel(
    pixel_pin, 50, brightness=1, auto_write=False, pixel_order=neopixel.GRB
)
pb = PicoBoard('/dev/ttyUSB0') #device file for PicoBoard
while True:
    intensity = pb.read()['slider']
    for j in cords:

        if j[1] < intensity: #1500 - (i* 10):
            pixels[j[2]] = (0, 0, 255)

        else:
            pixels[j[2]] = (0, 255, 0)

    pixels.show()
    sleep(0.05)
